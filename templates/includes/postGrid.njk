<div class="grid grid-template gap-y-155">
  {% set collection = module.collections[0] %}
  {% for item in collection.items %}
    {% if item._type == 'item' %}
      <a class="block col-span-{{ item.width }} self-{{ item.verticalAlignment }}" href="/post/{{ item.post.slug }}">
        {% set media = item.post.media if item.post.type == 'media' else item.post.thumbnail %}
        {% if media.type == 'image' %}
          {% set image = media.image %}
          <div class="relative">
            <div style="padding-top: {{ 1 / image.asset.metadata.dimensions.aspectRatio * 100 }}%"></div>
            <img
              class="absolute inset-0 w-full h-full object-cover"
              src="{{ image.asset.url }}"
              alt="{{ image.alt }}"
            ></img>
          </div>
        {% endif %}
        <div class="mt-20">
          <h3 class="font-nm text-26/40 leading-115">
            {{ item.post.title }}
          </h3>
          {% if item.post.subtitle %}
            <p class="text-24 leading-138 mt-8 text-gray-dark">{{ item.post.subtitle }}</p>
          {% endif %}
        </div>
      </a>
    {% else %}
      <div class="col-span-{{ item.width }}"></div>
    {% endif %}
  {% endfor %}
</div>